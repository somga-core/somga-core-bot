from random import randint, choice
import datetime

def ticket(user, args):
    if len(args) != 4 and not "random" in args:
        return "–¢—ã –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ —É–∫–∞–∑–∞–ª –∞—Ä–≥—É–º–µ–Ω—Ç—ã!\n\n–ï—Å–ª–∏ —Ö–æ—á–µ—à—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–ª—É—á–∞–π–Ω—ã–π –±–∏–ª–µ—Ç, —Ç–æ –≤–≤–µ–¥–∏ –∫–æ–º–∞–Ω–¥—É: /ticket random\n\n–ò–ª–∏ –∂–µ —Ç—ã –º–æ–∂–µ—à—å —É–∫–∞–∑–∞—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç—ã: /ticket –∫–æ–º–ø–∞–Ω–∏—è –º–∞—Ä—à—Ä—É—Ç –Ω–æ–º–µ—Ä_–∞–≤—Ç–æ–±—É—Å–∞ –Ω–æ–º–µ—Ä_–±–∏–ª–µ—Ç–∞. –í–º–µ—Å—Ç–æ –∫–æ–º–ø–∞–Ω–∏—è —É–∫–∞–∂–∏ –ª–∏–±–æ wl –¥–ª—è '–í–µ—Å—Ç –ª–∞–π–Ω', –ª–∏–±–æ kgt –¥–ª—è '–ö–∞–ª–∏–Ω–∏–Ω–≥—Ä–∞–¥-–ì–æ—Ä–¢—Ä–∞–Ω—Å', –ª–∏–±–æ –ª—é–±–æ–µ —Å–≤–æ—ë –Ω–∞–∑–≤–∞–Ω–∏–µ. –ú–∞—Ä—à—Ä—É—Ç, –Ω–æ–º–µ—Ä –∞–≤—Ç–æ–±—É—Å–∞ –∏ –Ω–æ–º–µ—Ä –±–∏–ª–µ—Ç–∞ –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—Å—è —Ç–∞–∫ –∂–µ, –∫–∞–∫ —Ç—ã –∏—Ö –≤–≤–µ–¥—ë—à—å"

    if "random" in args:
        company = choice(['–û–û–û "–í–µ—Å—Ç –õ–∞–π–Ω"', '–ê–û "–ö–∞–ª–∏–Ω–∏–Ω–≥—Ä–∞–¥-–ì–æ—Ä–¢—Ä–∞–Ω—Å"'])
        track = f"{randint(1, 99)}"
        id = f"{chr(randint(1072, 1103))}{chr(randint(1072, 1103))}{randint(100, 999)}39"
        number = f"1 {randint(100, 999)} {randint(100, 999)} {randint(100, 999)}"
    else:
        if "wl" == args[0]:
            company = '–û–û–û "–í–µ—Å—Ç –õ–∞–π–Ω"'
        elif "kgt" == args[0]:
            company = '–ê–û "–ö–∞–ª–∏–Ω–∏–Ω–≥—Ä–∞–¥-–ì–æ—Ä–¢—Ä–∞–Ω—Å"'
        else:
            company = args[0]
        track = args[1]
        id = args[2]
        number = " ".join(args[3:])

    text = f'''–ë–∏–ª–µ—Ç –∫—É–ø–ª–µ–Ω —É—Å–ø–µ—à–Ω–æ.
{company}
üöè {track}
üöå {id}
ü™ô –¢–∞—Ä–∏—Ñ: –ü–æ–ª–Ω—ã–π 38,00 ‚ÇΩ
üé´ –ë–∏–ª–µ—Ç ‚Ññ {number}
üïë –î–µ–π—Å—Ç–≤—É–µ—Ç –¥–æ {(datetime.datetime.now() + datetime.timedelta(minutes=50, hours=2)).strftime("%H:%M")}'''

    return text